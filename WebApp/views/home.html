<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevBook</title>
    <link href="/assets/css/bootstrap.css" rel="stylesheet" />
    <link rel="icon" href="/favicon.ico">

</head>

<body>

    {{ template "cabecalho" }}

    <div class="container-fluid">
        <div class="row mt-4">
            <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5 col-xl-5">
                <h3>Nova Publicação</h3>
                <fieldset>
                    <form id="nova-publicacao">
                        <div class="form-group">
                            <label for="titulo">Título</label>
                            <input type="text" class="form-control" id="titulo" name="titulo" required="required"
                                placeholder="Digite o título da publicação">
                        </div>
                        <div class="form-group">
                            <label for="conteudo">Conteúdo</label>
                            <textarea class="form-control" id="conteudo" name="conteudo" rows="3" required="required"
                                placeholder="Digite o conteúdo da publicação"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Publicar</button>
                    </form>
                </fieldset>
            </div>

            <div class="col-xs-12 col-sm-12 col-md-7 col-lg-7 col-xl-7">
                <p>Total de publicações: {{ len .Publicacoes }}</p>

                {{ range .Publicacoes }}
                {{ if ( eq .AutorID $.UsuarioID ) }}
                {{ template "publicacao-com-permissao" . }}
                {{ else }}
                {{ template "publicacao-sem-permissao" . }}
                {{ end }}
                {{ end }}
            </div>
        </div>
    </div> <!-- Fechando container-fluid -->

    {{ template "rodape" }}
    {{ template "scripts" }}

    <script src="/assets/js/publicacoes.js"></script>

</body>

</html>